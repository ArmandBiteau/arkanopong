# Makefile pour arkanapong
# @author Oblet Alexis, Biteau Armand

CC=gcc
CFLAGS=-Wall -g
LDFLAGS=

SRC_PATH=src
OBJ_PATH=obj
BIN_PATH=bin
INCLUDE_PATH=-I /include

SRC_FILES = $(shell find $(SRC_PATH) -type f -name '*.c')
OBJ_FILES = $(SRC_FILES:.c=.o)

EXEC=arkanapong

all: $(EXEC)

$(EXEC): $(OBJ_FILES)
	mkdir $(BIN_PATH)
	$(CC) -o $(BIN_PATH)/$(EXEC)  $(OBJ_FILES) $(LDFLAGS)

#les dÃ©pendances pour les .h n'y sont pas => make clean avant chaque compil

$(OBJ_PATH)/%.o:$(SRC_PATH)/%.c
	$(CC) -o $@ -c $< $(INCLUDE_PATH) $(CFLAGS)

.PHONY: clean

clean:
	rm -rf /obj
	rm -rf /bin